<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task6</title>
    <link rel="stylesheet" href="../css/style.css" />
  </head>

  <body>
    <div class="wrapper">
      <div class="container">
        <h1 class="main-title">Задача 6</h1>
        <nav class="breadcrumbs">
          <ul class="breadcrumbs__list">
            <li class="breadcrumbs__item">
              <a class="breadcrumbs__link" href="../index.html"> Головна </a>
            </li>
            <li class="breadcrumbs__item">
              <a href="./index.html" class="breadcrumbs__link"> ДЗ №3 </a>
            </li>
            <li class="breadcrumbs__item">
              <span class="breadcrumbs__link breadcrumbs__link_active">
                Task6
              </span>
            </li>
          </ul>
        </nav>
        <div class="lists"></div>
        <style>
          .lists {
            display: flex;
            justify-content: center;
            gap: 50px;
          }

          .lists__content {
            max-width: 200px;
            width: 100%;
          }

          .lists__content--general .lists__text::after {
            background-image: url('./task6-img/arrow-right.png');
          }

          .lists__content--selected .lists__text::after {
            background-image: url('./task6-img/arrow-left.png');
            transform: rotate(180deg);
          }

          .lists__title {
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 10px;
          }

          .lists__list {
            border: 2px solid #000;
            padding: 10px;
            min-height: 250px;
            cursor: pointer;
          }

          .lists__item:not(:last-child) {
            margin-bottom: 5px;
          }

          .lists__text {
            border: 2px solid #000;
            width: 100%;
            padding: 0 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
          }

          .lists__text::after {
            content: '';
            width: 20px;
            height: 20px;
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
          }
        </style>
        <script>
          class List {
            constructor(title, name, listClass) {
              this.title = title
              this.name = name
              this.listClass = listClass
            }
            render(containerSelector) {
              this.listsContent
              this.listsTitle
              this.listsList
              this.listsItem
              this.listsText

              this.listsContent = document.createElement('div')
              this.listsContent.className = 'lists__content ' + this.listClass
              this.listsTitle = document.createElement('h2')
              this.listsTitle.className = 'lists__title'
              this.listsTitle.innerText = this.title
              this.listsContent.append(this.listsTitle)

              this.listsList = document.createElement('ul')
              this.listsList.className = 'lists__list'
              this.listsContent.append(this.listsList)

              if (containerSelector)
                document
                  .querySelector(containerSelector)
                  .prepend(this.listsContent)

              for (const name of this.name) {
                this.listsItem = document.createElement('li')
                this.listsItem.className = 'lists__item'
                this.listsList.append(this.listsItem)
                this.listsText = document.createElement('span')
                this.listsText.classList = 'lists__text'
                this.listsText.innerText = name
                this.listsItem.append(this.listsText)
              }
            }
          }

          window.onload = function () {
            const generalParticipantNames = [
              'Alan Woo',
              'Olga Sich',
              'Ivan Hal',
            ]
            const selectedParticipantNames = ['jon Depp', 'Sara Wik']
            const selectedList = new List(
              'Обрані для змагання',
              selectedParticipantNames,
              'lists__content--selected'
            )
            selectedList.render('.lists')

            const generalList = new List(
              'Загальний список',
              generalParticipantNames,
              'lists__content--general'
            )

            generalList.render('.lists')
            const liList = document.querySelectorAll('.lists__item')
            const selected = document.querySelector('.lists__content--selected')
            const general = document.querySelector('.lists__content--general')

            for (const li of liList) {
              li.onclick = function () {
                if (li.closest('.lists__content--general')) {
                  selected.lastElementChild.append(li)
                } else {
                  li.closest('.lists__content--general')
                  general.lastElementChild.append(li)
                }
              }
            }
          }
        </script>
      </div>
    </div>
  </body>
</html>
