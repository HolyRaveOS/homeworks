<!DOCTYPE html>
<html lang="uk">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Task3</title>
	<link rel="stylesheet" href="../css/style.css">
</head>

<body>
	<div class="wrapper">
		<div class="container">
			<h1 class="main-title">Задача 3</h1>
			<nav class="breadcrumbs">
				<ul class="breadcrumbs__list">
					<li class="breadcrumbs__item">
						<a class="breadcrumbs__link" href="../index.html">
							Головна
						</a>
					</li>
					<li class="breadcrumbs__item">
						<a href="./index.html" class="breadcrumbs__link">
							ДЗ №11
						</a>
					</li>
					<li class="breadcrumbs__item">
						<span class="breadcrumbs__link breadcrumbs__link_active">
							Task3
						</span>
					</li>
				</ul>
			</nav>
			<script>

				let shotNum = parseInt(prompt('Введіть кількість пострілів'))
				const rowNum = 6;
				const columnNum = 6;
				let ships = 5;

				let createGameTable = (rowNum, columnNum, ships) => {

					const gameTableArr = new Array(rowNum).fill(0).map(() => new Array(columnNum).fill(0));

					let shipsCount = 0;
					while (shipsCount < ships) {
						const row = Math.floor(Math.random() * rowNum);
						const col = Math.floor(Math.random() * columnNum);
						if (gameTableArr[row][col] === 0) {
							gameTableArr[row][col] = 1;
							shipsCount++;
						}
					}
					return gameTableArr;
				}

				let gameTable = createGameTable(rowNum, columnNum, ships);

				let game = () => {
					while (shotNum > 0) {
						let rowPosition = parseInt(prompt('Введіть горизонтальну позицію від 0 до 5'))
						let columnNum = parseInt(prompt('Введіть вертикальну позицію від 0 до 5'))
						shotNum--
						let found = false;
						for (let row = 0; row < gameTable.length; row++) {
							for (let column = 0; column < gameTable[row].length; column++) {
								if (gameTable[rowPosition][columnNum] === gameTable[row][column] && gameTable[row][column] === 1) {
									gameTable[row][column] = 0
									ships--
									found = true
									alert(`Ви влучити Кількість доступних пострілів = ${shotNum} кількість кораблів на воді = ${ships}`)
									break
								}
							}
							if (found) {
								break;
							}
						}

						if (!found) {
							alert(`Ви не влучили. Кількість доступних пострілів = ${shotNum} кількість кораблів на воді = ${ships}`);
						}

						if (ships === 0) {
							break
						}
					}
				}

				game()

			</script>
		</div>
	</div>
</body>

</html>